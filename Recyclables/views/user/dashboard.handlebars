<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  
  <style>
  /* Set height of the grid so .sidenav can be 100% (adjust as needed) */
  .row.content {
    height: 550px; 
  }
  .col-sm-4{
  }
  /* Set gray background color and 100% height */
  h3{
    font-weight: bold;
  }
  p{
    font-size: 20px;
  }
  /* On small screens, set height to 'auto' for the grid */
  .col-sm-9 {
    margin:auto;
    position: absolute;
    left: 50%;
    -ms-transform: translate(-50%, -50%);
    transform: translate(-50%, -50%);
    }
    .col-sm-4{

    }
  #well-info{
    display: flex;
  align-items: center;

  }
  #total{
    margin-right: 5%;
  }
</style>
  <div style = "margin-left: 10%; margin-right: 10%;">
    <div class="well" style="text-align: center;">
      <h3>Overview Dashboard for Recyclable Bins</h3>
      <p>Last refreshed: <span id = "datetime"></span></p>
    </div>

    <div class="row">
    {{#each binlist}}
        <div class="col-sm-4">
          <div class="well">
            <h3>{{dataValues.location_description}}</h3>
            <p>Level {{dataValues.floor_level}}</p> 
            <img width="300" height="200" src="{{dataValues.camera_ipaddress}}"></img>
            <p>Status is {{dataValues.status}}</p> 
          </div>
        </div>
    {{/each}}
    </div>
</div>
<script>
  var months = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
  var days = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];
  var date = new Date();
  var day = days[date.getDay()];
  var dates = date.getDate();
  var month = months[date.getMonth()];
  var year = date.getFullYear();
  var hr = date.getHours();
  var min = date.getMinutes();
  if (min < 10) {
      min = "0" + min;
  }
  var ampm = "am";
  if( hr >= 12 ) {
      if (hr == 12) {
        ampm = "pm"
      }
      else{
        hr -= 12;
        ampm = "pm";
      }
      
  }
  var x = document.getElementById("datetime");
  x.innerText = day + ", " + dates + " " + month + " " + year + " " + hr + ":" + min + ampm ;  
</script>
